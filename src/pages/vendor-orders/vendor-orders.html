<ion-header>

  <ion-navbar>
    <ion-title>Orders</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>

  <ion-list>
    <ion-item>
      <ion-label>Status</ion-label>
      <ion-select [(ngModel)]="status" (ionChange)="getOrder()">
        <ion-option value="all">All</ion-option>
        <ion-option value="processing">Processing</ion-option>
        <ion-option value="completed">Completed</ion-option>
        <ion-option value="pending">Pending</ion-option>
      </ion-select>
    </ion-item>
  </ion-list>

  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <div class="slider-temp" *ngIf="!orderLoaded" style="height: 183px; width: 100%; padding: 40px 0;">
    <g-loader></g-loader>
  </div>

  <ion-row *ngIf="orderLoaded && orders.length <= 0" class="item-order" padding relative>
    <ion-col no-padding>
      <div class="order-id" text-center>
        <b dark>No result</b>
      </div>
    </ion-col>
  </ion-row>

  <ion-row *ngFor="let order of orders" class="item-order" [ngClass]="order.status" padding relative>
    <ion-col no-padding [navPush]="DetailOrderPage" [navParams]="{id:order.id, vendor: vendor}">
      <div class="order-id">
        <b dark>{{'order.id'|translate}} - #{{order.id}}</b>
        <span class="order-status" *ngIf="order.status == 'processing'" light
          text-capitalize>{{'order.status.processing' |translate }}</span>
        <span class="order-status" *ngIf="order.status == 'on-hold'" light
          text-capitalize>{{'order.status.on_hold' |translate }}</span>
        <span class="order-status" *ngIf="order.status == 'cancelled'" light
          text-capitalize>{{'order.status.cancelled' |translate }}</span>
        <span class="order-status" *ngIf="order.status == 'completed'" light
          text-capitalize>{{'order.status.completed' |translate }}</span>
        <span class="order-status" *ngIf="order.status == 'pending'" light
          text-capitalize>{{'order.status.pending' |translate }}</span>
        <span class="order-status" *ngIf="order.status == 'refunded'" light
          text-capitalize>{{'order.status.refunded' |translate }}</span>
        <span class="order-status" *ngIf="order.status == 'failed'" light
          text-capitalize>{{'order.status.failed' |translate }}</span>

        <ion-badge color="success" *ngIf="order.shipped">Shipped</ion-badge>

      </div>
      <div>{{'order.date'|translate}} {{order.date_created + 'Z'|date:date_format}}</div>
      <div>
        <span>{{'order.quantity'|translate}} {{order.line_items.length}}</span>
        <span *ngIf="order.line_items.length <2">{{'order.item'|translate}}</span>
        <span *ngIf="order.line_items.length >1">{{'order.items'|translate}}</span>
      </div>
      <div>{{'order.total'|translate}} <span [innerHTML]="order.total"></span></div>
    </ion-col>
    <button absolute bottom ion-button clear color="gray" [navPush]="DetailOrderPage" [navParams]="{id:order.id}"
      class="detail">
      <span border-dashed>{{'order.details'|translate}}</span>
    </button>
  </ion-row>

</ion-content>