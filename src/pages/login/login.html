<ion-header>
	<ion-navbar>
		<ion-title>{{'login.title'|translate}}</ion-title>
	</ion-navbar>
</ion-header>


<ion-content padding>
	<ion-row *ngIf="!socialMode" ion-fixed center ion-fixed width-100 height-100 padding>
		<ion-col padding>
			<div>
				<ion-list class="login-form" no-margin>
					<form [formGroup]="formLogin" class="form-custom">
						<ion-item mode="md" bg-transparent no-padding>
							<ion-label floating><span light>{{'general.username'|translate}}</span></ion-label>
							<ion-input dir="{{display_mode}}" light formControlName="username"></ion-input>
						</ion-item>
						<ion-item mode="md" bg-transparent no-padding>
							<ion-label floating [attr.font-80]="wrong?true:null" [ngClass]="wrong?'wrong-password':''">
								<span light *ngIf="!wrong">{{'general.password'|translate}}</span>
								<span danger *ngIf="wrong">{{'login.wrong'|translate}}</span>
							</ion-label>
							<ion-input dir="{{display_mode}}" light type="password" formControlName="password" (focus)="wrong=false"></ion-input>
							<ion-icon *ngIf="wrong" color="danger" item-right name="icon-info-circle"></ion-icon>
						</ion-item>
					</form>
				</ion-list>
				<div overflow margin-bottom>
					<button ion-button float-right clear class="disable-hover" color="secondary" (click)="forgot()">
						<span>{{'login.forgot_password'|translate}}</span>
					</button>
				</div>
				<button ion-button block text-uppercase (click)="login('normal')" [disabled]="formLogin.invalid">
					<span>{{'login.title'|translate}}</span>
				</button>
				<div light margin-top text-center>
					<span>{{'login.signupText'|translate}}</span>
					<span [navPush]="SignupPage">{{'login.signup'|translate}}</span>
				</div>
			</div>
			<div light margin-top text-center *ngIf="(login_facebook && login_google) || login_facebook || login_google">
				<p><span>{{'login.loginwith'|translate}}</span></p>
				<div width-100 class="social-login">
					<div width-50 padding-5 in-line *ngIf="login_facebook" (click)="login('facebook')">
						<img class="social-icon" src="assets/images/facebook.png" />
					</div>
					<div width-50 in-line *ngIf="login_google" (click)="login('google')">
						<img class="social-icon" src="assets/images/google.png" />
					</div>
				</div>
			</div>
		</ion-col>
	</ion-row>
	<div *ngIf="loading" width-100 class="spinnerlogin">
		<ion-spinner margin-auto name="ios"></ion-spinner>
	</div>
</ion-content>
